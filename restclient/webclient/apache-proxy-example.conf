<VirtualHost *:80>
    ServerName yourdomain.com  # Change to your domain or IP

    DocumentRoot /var/www/html  # Path to your web files

    # Define the REST service address
    SetEnv REST_SERVICE "http://rest-service:32768/api/"

    # Serve your web pages
    <Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Rewrite to proxy API requests
    RewriteEngine On
    RewriteCond %{REQUEST_URI} ^/api/
    RewriteRule ^/api/(.*) ${REST_SERVICE}$1 [P,L]

    # Proxy to REST service
    ProxyPassMatch ^/api/(.*) ${REST_SERVICE}$1
    ProxyPassReverse /api/ ${REST_SERVICE}

    # Optional: Custom error handling
    ErrorDocument 404 /404.html  # Path to custom 404 error page
    ErrorDocument 500 /50x.html  # Path to custom 5xx error pages
</VirtualHost>
